{
  "version": 3,
  "sources": ["../../@darkroom.engineering/tempus/src/index.js"],
  "sourcesContent": ["class Tempus {\r\n  constructor() {\r\n    this.callbacks = []\r\n    this.now = performance.now()\r\n    requestAnimationFrame(this.raf)\r\n  }\r\n\r\n  add(callback, priority = 0) {\r\n    this.callbacks.push({ callback, priority })\r\n    this.callbacks.sort((a, b) => a.priority - b.priority)\r\n\r\n    return () => this.remove(callback)\r\n  }\r\n\r\n  remove(callback) {\r\n    this.callbacks = this.callbacks.filter(({ callback: cb }) => callback !== cb)\r\n  }\r\n\r\n  raf = (now) => {\r\n    requestAnimationFrame(this.raf)\r\n\r\n    const deltaTime = now - this.now\r\n    this.now = now\r\n\r\n    for (let i = 0; i < this.callbacks.length; i++) {\r\n      this.callbacks[i].callback(now, deltaTime)\r\n    }\r\n  }\r\n}\r\n\r\nconst isClient = typeof window !== 'undefined'\r\n\r\nexport default isClient && new Tempus()\r\n"],
  "mappings": ";;;AAgCA,IAAA,IAFmC,eAAA,OAAXA,UAEG,IAhC3B,MAAA;EACEC,cAAAA;AAAAA,SAiBAC,MAAOC,CAAAA,OAAAA;AACLC,4BAAsBC,KAAKH,GAAAA;AAE3B,YAAMI,IAAYH,KAAME,KAAKF;AAC7BE,WAAKF,MAAMA;AAEX,eAASI,IAAI,GAAGA,IAAIF,KAAKG,UAAUC,QAAQF;AACzCF,aAAKG,UAAUD,CAAAA,EAAGG,SAASP,IAAKG,CAAAA;IAClC,GAxBAD,KAAKG,YAAY,CAAA,GACjBH,KAAKF,MAAMQ,YAAYR,IAAAA,GACvBC,sBAAsBC,KAAKH,GAAAA;EAC7B;EAEAU,IAAIF,IAAUG,IAAW,GAAA;AAIvB,WAHAR,KAAKG,UAAUM,KAAK,EAAEJ,UAAAA,IAAUG,UAAAA,EAAAA,CAAAA,GAChCR,KAAKG,UAAUO,KAAK,CAACC,IAAGC,OAAMD,GAAEH,WAAWI,GAAEJ,QAAAA,GAEtC,MAAMR,KAAKa,OAAOR,EAAAA;EAC3B;EAEAQ,OAAOR,IAAAA;AACLL,SAAKG,YAAYH,KAAKG,UAAUW,OAAO,CAAA,EAAGT,UAAUU,EAAAA,MAASV,OAAaU,CAAAA;EAC5E;AAAA;",
  "names": ["window", "constructor", "raf", "now", "requestAnimationFrame", "this", "deltaTime", "i", "callbacks", "length", "callback", "performance", "add", "priority", "push", "sort", "a", "b", "remove", "filter", "cb"]
}
